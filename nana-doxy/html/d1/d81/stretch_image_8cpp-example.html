<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Nana C++ Library. Reference for users.: stretch_image.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nana C++ Library. Reference for users.
   </div>
   <div id="projectbrief">What we need to use nana</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d81/stretch_image_8cpp-example.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">stretch_image.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<h1>Nana provides the image processors:</h1>
<ul>
<li>Stretch algorithms:<ul>
<li><b>bilinear interoplation</b> It produces a reasonably realistic image.</li>
<li><b>proximal interoplation</b> It(also known as nearest-neighbor interoplation) is fast, but produces a not realistic image.</li>
</ul>
</li>
<li>Alpha Blend algorith:<ul>
<li><b>alpha_blend</b> Blends two images with alpha channel that is given by source image.</li>
</ul>
</li>
<li>Blend algorithm:<ul>
<li><b>blend</b> Blends two images.</li>
</ul>
</li>
<li>Blur algorithm:<ul>
<li><b>blur</b> Blurs an image.</li>
</ul>
</li>
<li>Line algorithm:<ul>
<li>bresenham_line Draws a line.</li>
</ul>
</li>
</ul>
<p>Examples</p>
<p>This is an example which creates a form to display an image, and when the size of form is changed, it makes the image fit the form. In addtion, the example also shows the way to switch the stretch image processing algorithm.</p>
<p>Result of application: </p>
<div class="image">
<img src="../../fit_window_bilinear_interoplation.png" alt="fit_window_bilinear_interoplation.png"/>
<div class="caption">
bilinear interoplation - Stretch the image through bilinear interoplation</div></div>
 <div class="image">
<img src="../../fit_window_proximal_interoplation.png" alt="fit_window_proximal_interoplation.png"/>
<div class="caption">
proximal interoplation - Stretch the image through proximal interoplation</div></div>
 <div class="fragment"><div class="line"><span class="comment">//Required Nana version: 1.4</span></div>
<div class="line"><span class="preprocessor">#include &lt;nana/gui/wvl.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nana/gui/drawing.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nana/paint/image_process_selector.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>nana;</div>
<div class="line"></div>
<div class="line"><a name="_a0"></a><a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; operator &lt;&lt; (<a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; os, <span class="keyword">const</span> <a name="_a1"></a><a class="code" href="../../de/da3/structnana_1_1basic__point.html">point</a>&amp; p)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;point{&quot;</span> &lt;&lt; p.<a name="a2"></a><a class="code" href="../../de/da3/structnana_1_1basic__point.html#a426488d5403a0fd60ac16adaedbe9a58">x</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; p.<a name="a3"></a><a class="code" href="../../de/da3/structnana_1_1basic__point.html#a93e38caab4c9942fcd978befd018e4e1">y</a> &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line">}</div>
<div class="line"><a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; operator&lt;&lt; (<a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; os, <span class="keyword">const</span> <a name="_a4"></a><a class="code" href="../../da/df8/structnana_1_1size.html">nana::size</a>&amp; z)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;size{&quot;</span> &lt;&lt; z.<a name="a5"></a><a class="code" href="../../da/df8/structnana_1_1size.html#a3f4812408ab661b7d7fe3f990d73f4ec">width</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; z.<a name="a6"></a><a class="code" href="../../da/df8/structnana_1_1size.html#af6029a534e26ca73afc26551fa3c0b36">height</a> &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line">}</div>
<div class="line"><a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; operator&lt;&lt; (<a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a>&amp; os, <span class="keyword">const</span> <a name="_a7"></a><a class="code" href="../../dd/d2d/structnana_1_1rectangle.html">rectangle</a>&amp; r)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;rect{&quot;</span> &lt;&lt; r.<a name="a8"></a><a class="code" href="../../dd/d2d/structnana_1_1rectangle.html#ae8969902617e8a1a6529d4fbf021044c">position</a>() &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; r.<a name="a9"></a><a class="code" href="../../dd/d2d/structnana_1_1rectangle.html#a35e105f3df61d06460008ef1e2a66b72">dimension</a>() &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>tsform</div>
<div class="line">    : <span class="keyword">public</span> <a name="_a10"></a><a class="code" href="../../d6/d57/classnana_1_1form.html">form</a></div>
<div class="line">{</div>
<div class="line">    <a name="_a11"></a><a class="code" href="../../d9/de1/classnana_1_1paint_1_1image.html">nana::paint::image</a> img_;</div>
<div class="line">        <a name="_a12"></a><a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html">paint::graphics</a> gr_;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    tsform()</div>
<div class="line">    {</div>
<div class="line">                <span class="keywordflow">if</span> (!img_.open((<span class="stringliteral">&quot;../Examples/bground.6states.bmp&quot;</span>)))</div>
<div class="line">                        <span class="keywordflow">throw</span> <a name="_a13"></a><a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/error/runtime_error.html">std::runtime_error</a>(<span class="stringliteral">&quot;Imposible to open the image&quot;</span>);    </div>
<div class="line">        </div>
<div class="line">                <a name="_a14"></a><a class="code" href="../../d9/d46/classnana_1_1drawing.html">drawing</a> dw(*<span class="keyword">this</span>);</div>
<div class="line">                dw.draw([<span class="keyword">this</span>](<a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html">paint::graphics</a>&amp; graph)</div>
<div class="line">                {</div>
<div class="line">                        <a class="code" href="../../dd/d2d/structnana_1_1rectangle.html">rectangle</a> r { <a class="code" href="../../de/da3/structnana_1_1basic__point.html">point</a>{ 0,0 }, img_.size() };</div>
<div class="line">                        <a class="code" href="../../dd/d2d/structnana_1_1rectangle.html">rectangle</a> rw{ <a class="code" href="../../de/da3/structnana_1_1basic__point.html">point</a>{ 0,0 }, <a class="code" href="../../da/df8/structnana_1_1size.html">size</a>() };</div>
<div class="line">                        <span class="comment">//nana::size sz{size()};</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">                        graph.<a name="a15"></a><a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#aee430e71db8c8fa8726ccc531c4b229e">rectangle</a>(<a class="code" href="../../dd/d2d/structnana_1_1rectangle.html">rectangle</a>{ 5, 5, 50, 50 }, <span class="keyword">true</span>, <a name="a16"></a><a class="code" href="../../d2/d76/namespacenana.html#a1c3db4107603ee927761eec5fe67ef98abda9643ac6601722a28f238714274da4">colors::red</a>);</div>
<div class="line">                        graph.<a name="a17"></a><a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a056773fa29429ef8dc1642219c624c44">line</a>(<a name="a18"></a><a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(5, 5), <a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(55, 55), <a name="a19"></a><a class="code" href="../../d2/d76/namespacenana.html#a1c3db4107603ee927761eec5fe67ef98a48d6215903dff56238e52e8891380c8f">colors::blue</a>);</div>
<div class="line">                        graph.<a name="a20"></a><a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a17427f95e7b7834ec602f46f57bda1c8">line_begin</a>(200, 100);</div>
<div class="line">                        graph.<a name="a21"></a><a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a9faa96f7d337b2f8e5bf9ef5bbe416d3">line_to</a>(<a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(300, 300));</div>
<div class="line">                        graph.<a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a9faa96f7d337b2f8e5bf9ef5bbe416d3">line_to</a>(<a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(100, 200));</div>
<div class="line">                        graph.<a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a9faa96f7d337b2f8e5bf9ef5bbe416d3">line_to</a>(<a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(300, 200));</div>
<div class="line">                        graph.<a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a9faa96f7d337b2f8e5bf9ef5bbe416d3">line_to</a>(<a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(100, 300));</div>
<div class="line">                        graph.<a class="code" href="../../d6/d47/classnana_1_1paint_1_1graphics.html#a9faa96f7d337b2f8e5bf9ef5bbe416d3">line_to</a>(<a class="code" href="../../d2/d76/namespacenana.html#aa7e9212e5b7fb64cf0aa54c37a095283">point</a>(200, 100));</div>
<div class="line"></div>
<div class="line">                        img_.stretch(r, gr_, rw );</div>
<div class="line"></div>
<div class="line">                        <a name="_a22"></a><a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Pict: &quot;</span> &lt;&lt; r &lt;&lt; <span class="stringliteral">&quot;, Windows: &quot;</span> &lt;&lt; rw &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">                });</div>
<div class="line"></div>
<div class="line">  <span class="comment">//      // get the graphycs !?</span></div>
<div class="line">                <span class="comment">//if (!API::window_graphics(*this, gr_))</span></div>
<div class="line">                <span class="comment">//      throw std::runtime_error(&quot;Imposible to get the graph&quot;);</span></div>
<div class="line">  <span class="comment">//      </span></div>
<div class="line"></div>
<div class="line">  <span class="comment">//      //Copy the image to the window</span></div>
<div class="line">                <span class="comment">//img_.paste( rectangle{ point{0,0}, img_.size() },</span></div>
<div class="line">                <span class="comment">//                        gr_,</span></div>
<div class="line">                <span class="comment">//                        {0,0});</span></div>
<div class="line">                <span class="comment">//img_.stretch( rectangle{ point{0,0}, img_.size() },</span></div>
<div class="line">                <span class="comment">//                        gr_,</span></div>
<div class="line">                <span class="comment">//                        size()  );</span></div>
<div class="line"></div>
<div class="line">                dw.update();</div>
<div class="line">        <span class="comment">//Register events</span></div>
<div class="line">        <a class="code" href="../../d5/d1e/namespacenana_1_1_a_p_i.html#a0a5fa378a313bd333b3ab8ae86d69bcc">events</a>().click  ( [<span class="keyword">this</span>](){_m_click();} );  </div>
<div class="line">        <span class="comment">//events().resized( [this](){_m_size ();} );  </span></div>
<div class="line">    }</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">//Switchs the algorithm between two algorithms in every click on the form.</span></div>
<div class="line">    <span class="keywordtype">void</span> _m_click()</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">bool</span> interop;</div>
<div class="line">        <a name="_a23"></a><a class="code" href="../../de/d4c/classnana_1_1paint_1_1image__process_1_1selector.html">nana::paint::image_process::selector</a> sl;</div>
<div class="line">        sl.<a name="a24"></a><a class="code" href="../../de/d4c/classnana_1_1paint_1_1image__process_1_1selector.html#a31c3965ec91153d4a218733986a48f5f">stretch</a>(interop ? <span class="stringliteral">&quot;bilinear interoplation&quot;</span> : <span class="stringliteral">&quot;proximal interoplation&quot;</span>);</div>
<div class="line">        interop = !interop;</div>
<div class="line">                <a class="codeRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; (interop ? <span class="stringliteral">&quot;Click: bilinear interoplation\n&quot;</span> </div>
<div class="line">                                         : <span class="stringliteral">&quot;Click: proximal interoplation\n&quot;</span>) ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">  <span class="comment">//  //When the window size is changed, it stretches the image to fit the window.</span></div>
<div class="line">  <span class="comment">//  void _m_size()</span></div>
<div class="line">  <span class="comment">//  {</span></div>
<div class="line">  <span class="comment">//      drawing dw(*this);</span></div>
<div class="line">  <span class="comment">//     </span></div>
<div class="line">  <span class="comment">//      dw.clear();  //Before stretch, it should clear the operations that are generated before.</span></div>
<div class="line">  <span class="comment">//      </span></div>
<div class="line">                <span class="comment">//img_.stretch(rectangle{ point{ 0,0 }, img_.size() },</span></div>
<div class="line">                <span class="comment">//      gr_,</span></div>
<div class="line">                <span class="comment">//      size());</span></div>
<div class="line"></div>
<div class="line">                <span class="comment">//dw.update();</span></div>
<div class="line">                <span class="comment">//std::cout &lt;&lt; &quot;resize\n&quot;;</span></div>
<div class="line">  <span class="comment">//  }</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    tsform fm;</div>
<div class="line">    fm.show();</div>
<div class="line">    <a name="a25"></a><a class="code" href="../../d2/d76/namespacenana.html#adfeaf4a48fd8f02161268cde0ae797d9">exec</a>();</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Nana C++ Library. Reference for users.: Nana C++ library.</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nana C++ Library. Reference for users.
   </div>
   <div id="projectbrief">What we need to use nana</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d9b/md__c_1__prog__ext_lib_nana-docs_source_01-_introduction.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Nana C++ library. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#WhatIs">What is Nana C++ Library?</a></li>
<li class="level1"><a href="#Install">Installation</a><ul><li class="level2"><a href="#General">General</a></li>
<li class="level2"><a href="#Microsoft">Microsoft Visual C++</a></li>
<li class="level2"><a href="#Code">Code::Blocks</a></li>
</ul>
</li>
<li class="level1"><a href="#Intro">Introduction</a><ul><li class="level2"><a href="#Threading">Threading</a></li>
<li class="level2"><a href="#RAII">RAII</a></li>
<li class="level2"><a href="#Cross">Cross-Platform Programming</a></li>
</ul>
</li>
<li class="level1"><a href="#Hello">Hello World</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="WhatIs"></a>
What is Nana C++ Library?</h1>
<p>The Nana project is aimed at providing a software framework for cross-platform GUI programming, with commponents, such as graphics user interface and threads. Nana is a free/open-source library written in C++ with Object Oriented and Generic programing.</p>
<p>Nana is a C++ library, in Standard C++, that means it work great with modern C++ features, such as lambdas, concurrency and so on. It will give you wonderful experiences on GUI programming with C++11. Using its own widgets, drawing functions abstracted from the Nana abstract GUI system, it allows for writting programs on supported OS, such as Windows/Linux(X11).</p>
<p>Nana is a free/open-source library, it is distributed under <em>Boost Software License</em>, which is a lax, permissive non-copyleft free software license. Now, Nana is trying to build an active developer community to give help in using this library.</p>
<h1><a class="anchor" id="Install"></a>
Installation</h1>
<p>When you extract the library from its zip files, you have to install the library and configurate it before using. There is a general steps to install the library. </p>
<h2><a class="anchor" id="General"></a>
General</h2>
<h4>Some terms for this instruction:</h4>
<ul>
<li><em>NanaPath</em>: The path where Nana's files are located.</li>
<li><em>IDEName</em>: The name of a certain Integrated Development Environments. Such as vc7.1, vc8.</li>
<li><em>NanaStatic</em>: The generated Nana static linkage file, a *.lib/*.a file.</li>
<li><em>BoostPath</em>: The path where Boost C++ Libraries are located.</li>
</ul>
<h4>Step One:</h4>
<p>Start the IDE you use, set C++ include path and library path.</p>
<ul>
<li>Include Path: <em>NanaPath</em>/include</li>
<li>Library Path: <em>NanaPath</em>/extrlib, <em>NanaPath</em>/build/bin/IDEName.</li>
</ul>
<h4>Step Two:</h4>
<p>Create a static linkage library solution within a IDE which you use, and add all the files which are placed in <em>NanaPath</em>/source and in its all sub directiories to the solution. Then compile the solution and you will get a static linkage file <em>NanaStatic</em> in the path <em>NanaPath</em>/build/bin/IDEName.</p>
<h4>Step Three:</h4>
<p>Write a program and use Nana to create a GUI, and compile it with the <em>NanaStatic</em> file linked. Make sure that enable the compiler for supports of RTTI, MultiThreading and exception.</p>
<h2><a class="anchor" id="Microsoft"></a>
Microsoft Visual C++</h2>
<ol type="1">
<li>Set directories <pre class="fragment"> Add the Include Path *NanaPath*/include and the Library Path *NanaPath*/build/bin/IDEName and *NanaPath*/extrlib.
 #### Microsoft Visual C++ 2010/2012/2013
 Open the directory of "%UserProfile%/AppData/Local/Microsoft/MSBuild/v4.0", the %UserProfile% is a system environment variable. 
 Then you can find some files which are named like "Microsoft.CPP.XXX.user.props", choose one of them for your target platform, and edit it as follow:

 Insert "NanaPath/include" to the section &lt;IncludePath&gt;.

 Insert "NanaPath/build/bin/IDEName(e.g. vc10/vc2012/vc2013)" and "NanaPath/extrlib" to the section &lt;LibraryPath&gt;, and split them up with a semicolon.
 #### Microsoft Visual C++ 2003/2005/2008
 Click the menu *Tools-&gt;Options*, and then it shows a Options dialog. 

 Find  "Show directories for" which is in *Projects and Solutions-&gt;VC++ Directories*.
</pre></li>
<li>Compile Nana C++ Library <pre class="fragment"> Open "NanaPath/build/IDEName(e.g. vc7.1/vc8/vc9/vc10/vc2012/vc2013)/Nana.sln" with Visual C++. Click the menu Build-&gt;Rebuild All.  After building, a NanaStatic(e.g. nana_debug.lib, nana_release.lib) file should be generated in "NanaPath/build/bin/IDEName".
</pre></li>
<li>Programming with Nana C++ Library <pre class="fragment"> Create a Win32 Application Project, and make it as an empty project.

 Change properties of the project. Open the solution Properties Dialog.

 MDd and MTd for Debug Mode; MD and MT for Release Mode.
 Choosing the MD/MDd or MT/MTd depends on the property which is chose for building the Nana.

 Link the NanaStatic file.

 Input the name of NanaStatic file, such as nana_debug.lib or nana_release.lib.
</pre></li>
</ol>
<h2><a class="anchor" id="Code"></a>
Code::Blocks</h2>
<ol type="1">
<li>Set directories <pre class="fragment"> Click menu Settings-&gt;Compiler... to open Global compiler settings dialog. Then, select Search directories-&gt;Compiler tab.

 Add "NanaPath/include".

 Add "/usr/include/freetype2" when it is in Linux. (The path of freetype2 may be different, it depends on your system).

 And then, switch to the "Linker" and add "NanaPath/build/codeblocks".
</pre></li>
<li>Compile Nana C++ Library <pre class="fragment"> MinGW
 Configure the Boost C++ Library for Nana.C++11(Skip this step if you are installing Nana.C++03)

 The Boost C++ Library is required due to &lt;thread&gt;, &lt;mutex&gt; and &lt;condition_variable&gt; being not supported by MinGW 4.7.x
 1. Insert the Boost includ directory to the "Settings-&gt;Compiler...-&gt;Search directories-&gt;Compiler".
 2. Append the MinGW path(e.g "C:\Program Files\CodeBlocks\MinGW\bin") to the "Path" which is one of Global Environment Variables.
 3. Open the "BoostPath/boost/thread/detail/config.hpp" header file and find the following lines.

                 # if defined(BOOST_THREAD_PATH_WIN32)
                 #      if defined(BOOST_MSVC) || defined(BOOST_INTEL_WIN)

         and modify

                 # if defined(BOOST_THREAD_PATH_WIN32)
                 #      if defined(BOOST_MSVC) || defined(BOOST_INTEL_WIN) || defined(__MINGW32__) || defined(MINGW32) || defined(BOOST_MINGW32)
 4. Compile the Boost.Thread

                 bjam toolset=gcc --build-type=complete --with-thread
 5. Add the Boost C++ Libraries to the Code::Blocks.

         "Settings-&gt;Compiler...-&gt;Linker Settings" add libraries in the following order.

                 libboost_system-mgwXX-mt-s-XXX.a
                 libboost_thread-mgwXX-mt-s-XXX.a
                 libboost_chrono-mgwXX-mt-s-XXX.a

         (Wrong order may cause "undefined reference" linker errors)

 Start to compile.

 Open the "NanaPath/build/codeblocks/nana.cbp" and build it. Don't forget 

         "-std=c++0x" or "-std=c++11" 

 when building the Nana.C++11.
</pre></li>
<li>Programming with Nana C++ Library Create a project, then open "Project-&gt;Build options...-&gt;Compiler settings-&gt;Compiler flags", and enable "-std=c++0x" or "-std=c++11" if it is Nana.C++11. Switch the tab to "Linker settings" in "Project build options", and link these static libraries in "Other linker options". <h5>Windows:</h5>
</li>
</ol>
<ul>
<li>lnana -lgdi32 -lcomdlg32 <h5>Linux:</h5>
</li>
</ul>
<pre class="fragment">                    -nana -lX11 -lpthread -lrt -lXft
                    -lpng (if the support of PNG is enabled)
                    -lasound (if nana::audio::player is called)
</pre><h1><a class="anchor" id="Intro"></a>
Introduction</h1>
<p><a href="https://sourceforge.net/p/nanapro/blog/2012/11/preliminary-study-of-nana-c-library/">(Original site)</a></p>
<p>Nana is a C++ framework with provides GUI, threads and file system API. It provides many basic classes and functions for cross-platform programming. Although C++ is a powerful and syntax-agile language, in fact, many programmers don't like to do GUI in C++, because it seems to be very difficult. Some existing C++ GUI frameworks define their own rule that forced you write some stiff code that always causes some problems, such as leaving your code in a deep inheritance hierarchy, making maintenance painful. Now, the Nana C++ Library is an alternative, a pure C++ library that will guide you in doing GUI with your immense and extensive C++ knowledge/skill/idioms. It makes a great progress in doing GUI in C++.</p>
<p>How easy is to create a Hello World program with Nana? </p>
<pre class="fragment">    #include &lt;nana/gui/wvl.hpp&gt;
    #include &lt;nana/gui/widgets/label.hpp&gt;

    int main()
    {
            using namespace nana::gui;
            form    fm;
            label   lb(fm, fm.size());
            lb.caption(STR("Hello, World"));
            fm.show();
            exec();
    }
</pre><p>Pretty easy, with understandable code. Nana brings very simple and reasonable concepts to keep it easy. Secondly, unlike other frameworks, that make you write stiff code due to name and syntax constraints, Nana can make your code more straightforward and readable. For example, answering an event. </p>
<pre class="fragment">    #include &lt;nana/gui/wvl.hpp&gt;
    #include &lt;nana/gui/widgets/button.hpp&gt;

    void clicked(const nana::eventinfo&amp;)
    {
             //When the window  fm  is clicked, this function will be "called".
    }

    int main()
    {
            using namespace nana::gui;
            form fm;
            fm.make_event&lt;events::click&gt;(clicked);
            fm.show();
            exec();
    }
</pre><p>The name of <code>clicked</code> function is not constrained. You can give it any other name you want. It is more straightforward than implementing an event handler from inheritance. In some situations, we don't need to care about the parameter of <code>clicked()</code> function, like in the example: </p>
<pre class="fragment">    void clicked() //NO parameter defined.
    {
            //When the form is clicked, this function will be "called".
    }
    fm.make_event&lt;events::click&gt;(clicked);      //Nana allows!
</pre><p>Very flexible, and keep your code simple. And this feature can be applied with function object.</p>
<p>What makes Nana so flexible?</p>
<p>Nana C++ Library does not contain any "extra compilers" to parse "special syntax", Nana uses 100% C++ and the template techniques make this library very powerful and flexible. Nana is unlike other template-based library that causes a lot of code bloat and requires programmers have template-skilled, it's newbie-friendly.</p>
<p>Nana is a complete C++ style library that compile on Visual C++7.1/GCC 3.4 and later. If you are a C++ expert, Nana allows you to use lambda, a new feature of C++11, for event answering. Like this: </p>
<pre class="fragment">    fm.make_event&lt;events::click&gt;( []{       //When the form is clicked, the object          
                                                            //created by this lambda will be "called".
                                                        });
</pre><p>or </p>
<pre class="fragment">    fm.make_event&lt;events::click&gt;( [](const eventinfo&amp; ei){ 
                                                                            //When the form is clicked, the object created
                                                                            //by this lambda will be "called", and I can
                                                                            //read the parameter.
                                                               });
</pre><p>Additionally, Nana would make code flexible with <code><a class="elRef" doxygen="C:/Prog/ExtLib/nana-docs/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/utility/functional/bind.html">std::bind</a></code> in C++11. </p>
<h2><a class="anchor" id="Threading"></a>
Threading</h2>
<p>Nana is a thread-safe library and accessing a widget between threads is normalized. This is a great feature that makes programmer deliver the event answer to other thread easier. </p>
<pre class="fragment">    #include &lt;nana/gui/wvl.hpp&gt;
    #include &lt;nana/threads/pool.hpp&gt;
    void foo()
    {
      //This function will be "called" in other thread created by thread pool.
    }
    int main()
    {
      using namespace nana::gui;
      using namespace nana::threads;
            pool thrpool;
            form fm;
            fm.make_event&lt;events::click&gt;(pool_push(thrpool, foo));
            fm.make_event&lt;events::click&gt;(pool_push(thrpool, []{
                                                                                              //A lambda is also allowed.
                                                                              }));
            fm.show();
            exec();
    }
</pre><h2><a class="anchor" id="RAII"></a>
RAII</h2>
<p>There is a important feature as shown in above examples, as soon as a <code>form</code> object is created, its corresponding window is created, and the window is invisible till the <code>show()</code> is called to the <code>form</code> object, as soon as the <code>form</code> object is destructed, its corresponding window is closed, it conforms with the C++ object life-time concept.</p>
<h2><a class="anchor" id="Cross"></a>
Cross-Platform Programming</h2>
<p>Nana C++ Library is designed to be used for cross-platform programming. Its first release is under Windows. Now, the library is basiclly ported to Linux(X11).</p>
<p>The Most Important Feature: Free</p>
<p>Nana C++ Library is an open-source; it's free for both commercial and non-commercial use.</p>
<h1><a class="anchor" id="Hello"></a>
Hello World</h1>
<p>This lesson is indented to get you started programming with Nana.GUI. Let's read the simple HelloWorld code. </p>
<pre class="fragment">    #include&lt;nana/gui/wvl.hpp&gt;
    #include &lt;nana/gui/widgets/button.hpp&gt;

    int main()
     {
             using namespace nana::gui;

             form fm;
             fm.caption(STR("Hello World"));
             button btn(fm, nana::rectangle(20, 20, 150, 30));
             btn.caption(STR("Quit"));
             btn.make_event&lt;events::click&gt;(API::exit);
             fm.show();
             exec();
     }
</pre><div class="image">
<img src="../../Quit.jpg" alt="Quit.jpg"/>
<div class="caption">
Screenshot</div></div>
<p> Walkthrough Line-by-line </p>
<pre class="fragment">    #include &lt;nana/gui/wvl.hpp&gt;
</pre><p>This line includes the Nana.GUI class definition. </p>
<pre class="fragment">    #include &lt;nana/gui/widgets/button.hpp&gt;
</pre><p>This line includes the Nana.GUI.button class definition. </p>
<pre class="fragment">    int main()
    {
</pre><p>The <code>main()</code> function is the entry point to the program. Almost always when using Nana.GUI, <code>main()</code> only needs to perform some kind of initialization before passing the control to the Nana.GUI library, which then tells the program about the user's actions via events. </p>
<pre class="fragment">using namespace nana::gui;
</pre><p>Specify the nominated namespace nana::gui can be used in <code>main</code> function block scope. In this example, these names <code>form</code>, <code>button</code>, <code>events</code>, <code>API</code> and <code>exec</code> are defined in the namespace nana::gui. With this using-directive, we could use these names directly in the main function scope. </p>
<pre class="fragment">    form fm;
</pre><p>This is the first piece of window-system code. A <code>form</code> is created while the variable <code>fm</code> is defined. The <code>form</code> is a window with title bar and a sizable border frame, it's fundamental that you can put some widgets above it. </p>
<pre class="fragment">    fm.caption(STR("Hello World"));
</pre><p>Set the <code>form</code> to display the text "Hello World" in its title bar. </p>
<pre class="fragment">    button btn(fm, nana::rectangle(20, 20, 150, 30));
</pre><p>After the <code>form</code>, comes a button we created. In its constructor arg-list, the first argument tells the btn who the parent window is, and the following arguments describe position and size of btn. </p>
<pre class="fragment">    btn.caption(STR("Quit"));
</pre><p>Set the btn to display the text "Quit". </p>
<pre class="fragment">    btn.make_event&lt;events::click&gt;(API::exit);
</pre><p>make_event() is a method that every Nana.GUI widgets provide, you can register an event callback by using it. We want to exit the program while a mouse clicks on the btn. Now, register a callback function on <code>click</code> event. </p>
<pre class="fragment">    form.show();
</pre><p>A form widget is never visible when you create it. You must call show() to make it visible. </p>
<pre class="fragment">    nana::exec();
</pre><p>This is where the main() passes the control to Nana.GUI, and exec() will return when the application exists. In exec(), Nana.GUI processes the message loop and passes every event on to the appropriate widgets. </p>
<pre class="fragment">    }
</pre><p>You should now save and compile the program.</p>
<p>Further </p>
<pre class="fragment">    STR("Hello World")
</pre><p>What is <code>STR</code>? <code>STR</code> is a macro that transforms a multi-byte string into wide-byte string if <code>NANA_UNICODE</code> is defined in <em>config.hpp</em>. With <code>STR</code> you can easier switch your program between multi-byte and wide-byte.</p>
<p>See <a href="https://sourceforge.net/p/nanapro/discussion/general/thread/fc165711/">Use of std::string with char16_t or char32_t instead nana::string in c++11 version</a></p>
<p>See ...</p>
<pre class="fragment">    btn.events().click(nana::API::exit);
</pre><p>What is <a class="el" href="../../d5/d1e/namespacenana_1_1_a_p_i.html#af71ebb2dae084addc00732fa58116545">nana::API::exit</a>? This is an API provided by Nana.GUI. Its prototype is void exit(). If exit() is called, Nana.GUI destroy all the windows you've created and the exec() will return. Member make_event() has a template argument. The argument can be a function or a functor with a <code>const nana::eventinfo&amp;</code> parameter or not.</p>
<p>Is it right to invoke exit() in an event callback?</p>
<p>It is right because Nana.GUI guarantees a program correctnets even when an invalid GUI objects handle is accesses . </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Mar 8 2015 18:54:28 for Nana C++ Library. Reference for users. by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
